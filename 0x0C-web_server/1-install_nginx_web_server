#!/usr/bin/env bash
# Installs Nginx with the following configurations:
#+    Listens on port 80.
#+    Returns a page containing "Holberton School" when queried
#++    at the root with a curl GET request.

sudo apt update
sudo apt install -y nginx
sudo service nginx start

# Create a custom Nginx configuration file
nginx_config="/etc/nginx/sites-available/my_custom_config"
echo "server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /var/www/html;
    index index.html;

    location / {
        return 200 \"Hello World!\";
    }
}" | sudo tee "$nginx_config"

# Create a symbolic link to enable the custom configuration
sudo ln -s "$nginx_config" "/etc/nginx/sites-enabled/"

# Reload Nginx configuration
sudo service nginx reload
